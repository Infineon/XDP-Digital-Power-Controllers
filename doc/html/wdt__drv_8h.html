<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: wdt_drv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('wdt__drv_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">wdt_drv.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Watch dog timer driver header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="shasta_8h.html">shasta.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9af9c882a71f0f79078f352c02402665"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#a9af9c882a71f0f79078f352c02402665">wdt_Fkt_Cb_t</a>) (void)</td></tr>
<tr class="separator:a9af9c882a71f0f79078f352c02402665"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af40a1f8bcc522ba9054d3bdbbe5bdba0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#af40a1f8bcc522ba9054d3bdbbe5bdba0">wdt_time_unit_t</a> { <a class="el" href="wdt__drv_8h.html#af40a1f8bcc522ba9054d3bdbbe5bdba0a1ce23dda3668b204b946922db0c48c05">WDT_TIME_SEC</a>, 
<a class="el" href="wdt__drv_8h.html#af40a1f8bcc522ba9054d3bdbbe5bdba0aeb8bc134c46440906428d804f841375c">WDT_TIME_MS</a>, 
<a class="el" href="wdt__drv_8h.html#af40a1f8bcc522ba9054d3bdbbe5bdba0abe54a5673f2afda79288e40adb17f99b">WDT_TIME_US</a>
 }</td></tr>
<tr class="separator:af40a1f8bcc522ba9054d3bdbbe5bdba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af88fe2fe6b3847a105ac4e17f7612731"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#af88fe2fe6b3847a105ac4e17f7612731">wdt_activate</a> (uint32_t time_ms, <a class="el" href="wdt__drv_8h.html#a9af9c882a71f0f79078f352c02402665">wdt_Fkt_Cb_t</a> callback)</td></tr>
<tr class="separator:af88fe2fe6b3847a105ac4e17f7612731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa140dff9b3287b9ff7633ce59d521d58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#aa140dff9b3287b9ff7633ce59d521d58">WatchDog_IRQHandler</a> (const <a class="el" href="struct_cortex___m0___stack___frame__t.html">Cortex_M0_Stack_Frame_t</a> *stack_frame)</td></tr>
<tr class="separator:aa140dff9b3287b9ff7633ce59d521d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a2c7b90697547d863a6b07ccc57043"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#a12a2c7b90697547d863a6b07ccc57043">wdt_keep_alive</a> (void)</td></tr>
<tr class="separator:a12a2c7b90697547d863a6b07ccc57043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17bcf682fb1a7a27d99bb77281222cbd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#a17bcf682fb1a7a27d99bb77281222cbd">wdt_get_current_timer_value</a> (void)</td></tr>
<tr class="separator:a17bcf682fb1a7a27d99bb77281222cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afc1d25cd0ba8cd329b686f25796326e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_cortex___m0___stack___frame__t.html">Cortex_M0_Stack_Frame_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="wdt__drv_8h.html#afc1d25cd0ba8cd329b686f25796326e5">wdt_last_stackframe</a></td></tr>
<tr class="separator:afc1d25cd0ba8cd329b686f25796326e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Watch dog timer driver header file. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a9af9c882a71f0f79078f352c02402665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* wdt_Fkt_Cb_t) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Watchdog timer specific callback type </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="af40a1f8bcc522ba9054d3bdbbe5bdba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="wdt__drv_8h.html#af40a1f8bcc522ba9054d3bdbbe5bdba0">wdt_time_unit_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af40a1f8bcc522ba9054d3bdbbe5bdba0a1ce23dda3668b204b946922db0c48c05"></a>WDT_TIME_SEC&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af40a1f8bcc522ba9054d3bdbbe5bdba0aeb8bc134c46440906428d804f841375c"></a>WDT_TIME_MS&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af40a1f8bcc522ba9054d3bdbbe5bdba0abe54a5673f2afda79288e40adb17f99b"></a>WDT_TIME_US&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa140dff9b3287b9ff7633ce59d521d58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WatchDog_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_cortex___m0___stack___frame__t.html">Cortex_M0_Stack_Frame_t</a> *&#160;</td>
          <td class="paramname"><em>stack_frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt service routine(ISR) for the down counter, aka time expire.</p>
<p>If the down counter is not reload with a call to <a class="el" href="wdt__drv_8c.html#aeea39b8517d41b42ef4fe26227f5e4aa">wdt_interrupt_clear()</a>, a reset signal will be generated to the CPUS given the reset is enabled earlier with a call to <a class="el" href="wdt__drv_8c.html#a0ee1d030d4aa457e0bcf86df915a9918">wdt_reset_enable()</a>. The reset signal is not generated right away after time expiration. The down counter is reloaded with the initial value and begin to down counting again. If the ISR's callback reload the down counter by calling <a class="el" href="wdt__drv_8c.html#aeea39b8517d41b42ef4fe26227f5e4aa">wdt_interrupt_clear()</a> before the counter reaches to 0, no reset will be generated. In other word, the down counter counts twice starting with the initial value from the time of interrupt to reset. </p>

</div>
</div>
<a class="anchor" id="af88fe2fe6b3847a105ac4e17f7612731"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wdt_activate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="wdt__drv_8h.html#a9af9c882a71f0f79078f352c02402665">wdt_Fkt_Cb_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provide a complete API to activate a watchdog timer(WDT). This function calls following in sequence to start up a WDT: wdt_init(); <a class="el" href="wdt__drv_8c.html#a91cb365fa9a2ccfa39d8a3e504efbe99">wdt_register_interrupt_callback()</a>; <a class="el" href="wdt__drv_8c.html#a28d5480a3d8099ebeef8bf51154d4fcb">wdt_load()</a>; <a class="el" href="wdt__drv_8c.html#a0ee1d030d4aa457e0bcf86df915a9918">wdt_reset_enable()</a>; <a class="el" href="wdt__drv_8c.html#a2538c7e29f33513b1c90431e07995008">wdt_interrupt_enable()</a>; Please read the description of <a class="el" href="wdt__drv_8h.html#aa140dff9b3287b9ff7633ce59d521d58">WatchDog_IRQHandler()</a>too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_ms</td><td>The time to count down in ms. Sets the initial value for the WDT down counter. When down counter decrements to 0, an interrupt will be generated.</td></tr>
    <tr><td class="paramname">callback</td><td>A user provided callback function. This callback will be called when time reaches to 0 and the wdt interrupt is generated. In order to prevent a reset, callback function could reload the down counter. NULL if no callback provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17bcf682fb1a7a27d99bb77281222cbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t wdt_get_current_timer_value </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current down counter value. </p><dl class="section return"><dt>Returns</dt><dd>current timer's value </dd></dl>

</div>
</div>
<a class="anchor" id="a12a2c7b90697547d863a6b07ccc57043"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wdt_keep_alive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call this before the WDT count down to 0. Reload the wdt down counter so interrupt or reset will not occur will reload the WDT counter. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="afc1d25cd0ba8cd329b686f25796326e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_cortex___m0___stack___frame__t.html">Cortex_M0_Stack_Frame_t</a> wdt_last_stackframe</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stack frame that will be collected in the Watchdog IRQ Handler just before a reset is issued. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d52f7f52f412a942de55fb463ecb0248.html">modules</a></li><li class="navelem"><a class="el" href="dir_93ccb2badf1dc1ae39dfeffc839cf3ed.html">wdt</a></li><li class="navelem"><a class="el" href="wdt__drv_8h.html">wdt_drv.h</a></li>
    <li class="footer">Generated on Wed Nov 8 2023 10:17:00 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
