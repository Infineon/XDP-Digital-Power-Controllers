<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: driver_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('driver__common_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">driver_common.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="driver__common_8h.html">driver_common.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="fw__config_8h.html">fw_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="environment_8h.html">environment.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta_8h.html">shasta.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__shasta_8h.html">system_shasta.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__app_8h.html">log_app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os_8h.html">cmsis_os.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os__exceptions_8h.html">cmsis_os_exceptions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="linker__sections_8h.html">linker_sections.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a543a19f24af1a0714662082f70cc9af9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a543a19f24af1a0714662082f70cc9af9">osSemaphoreDef</a> (scratchpad_semaphore)</td></tr>
<tr class="separator:a543a19f24af1a0714662082f70cc9af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47d01a6ceae9c2cc6bb6809397d891c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#ae47d01a6ceae9c2cc6bb6809397d891c">osSemaphoreId</a> (<a class="el" href="driver__common_8h.html#a8dd3113370e8b0a04ff1f652bab09be4">scratchpad_semaphore_id</a>)</td></tr>
<tr class="separator:ae47d01a6ceae9c2cc6bb6809397d891c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95801ca654152ca9b996294c90c4879d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a95801ca654152ca9b996294c90c4879d">DRIVER_COMMON_init</a> (void)</td></tr>
<tr class="separator:a95801ca654152ca9b996294c90c4879d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66e8067d8aebc17b7982554099f3f4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#ac66e8067d8aebc17b7982554099f3f4d">set_module_init_cb</a> (<a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424b">Modules_t</a> module_name, <a class="el" href="driver__common_8h.html#a8bd7422bcd24e568cacaffd615613306">module_init_callback</a> module_init_cb)</td></tr>
<tr class="separator:ac66e8067d8aebc17b7982554099f3f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343af473706f72f827cf6bc2579b900e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a343af473706f72f827cf6bc2579b900e">call_module_init_cb</a> (<a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424b">Modules_t</a> module_name)</td></tr>
<tr class="separator:a343af473706f72f827cf6bc2579b900e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73edac95fb9f8d2c4ee53974edc55a9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a73edac95fb9f8d2c4ee53974edc55a9b">set_system_cb</a> (<a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dc">System_t</a> system_name, <a class="el" href="driver__common_8h.html#ac05c5479e010d1c7158c62bcdcee91df">system_callback</a> system_cb)</td></tr>
<tr class="separator:a73edac95fb9f8d2c4ee53974edc55a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d883c73c8d0c29676612881b777fa96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a1d883c73c8d0c29676612881b777fa96">call_system_cb</a> (<a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dc">System_t</a> system_name)</td></tr>
<tr class="separator:a1d883c73c8d0c29676612881b777fa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5ac6f309122ffa48e056c9a58d0e0f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a7d5ac6f309122ffa48e056c9a58d0e0f">scratchpad_semaphore_get</a> (void)</td></tr>
<tr class="separator:a7d5ac6f309122ffa48e056c9a58d0e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7387b2ab6f6e709176ba278d2c049b78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a7387b2ab6f6e709176ba278d2c049b78">scratchpad_semaphore_release</a> (void)</td></tr>
<tr class="separator:a7387b2ab6f6e709176ba278d2c049b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afac71e23d32ec98bcd0b942831d5402f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="driver__common_8h.html#a8bd7422bcd24e568cacaffd615613306">module_init_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#afac71e23d32ec98bcd0b942831d5402f">ptr_module_init_callback</a> [<a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424bac93969c0258b9aca1ce0e74a58f343b3">MODULE_INIT_CALLBACK_ARRAY_SIZE</a>]</td></tr>
<tr class="separator:afac71e23d32ec98bcd0b942831d5402f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3765c8becafdb995592d91a0d6f45d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="driver__common_8h.html#ac05c5479e010d1c7158c62bcdcee91df">system_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a1e3765c8becafdb995592d91a0d6f45d">ptr_system_callback</a> [<a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dcaabb23e723ebff44e32dae251b19c90ac">SYSTEM_CALLBACK_ARRAY_SIZE</a>]</td></tr>
<tr class="separator:a1e3765c8becafdb995592d91a0d6f45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ec19d0fa74e5fa1b746c131b08ea56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="driver__common_8h.html#a1ab36b07db55b2f8d65fce0ad1b5a4b8">fw_patch_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a49ec19d0fa74e5fa1b746c131b08ea56">fw_patch_p</a></td></tr>
<tr class="separator:a49ec19d0fa74e5fa1b746c131b08ea56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f258308f3439be08405ecf7d88cdc01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="driver__common_8h.html#abde9d6f81662e59b7bdd3cd8ac0381fe">DRIVER_COMMON_STRUCT_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="driver__common_8c.html#a3f258308f3439be08405ecf7d88cdc01">DRIVER_COMMON_STRUCT</a></td></tr>
<tr class="separator:a3f258308f3439be08405ecf7d88cdc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a343af473706f72f827cf6bc2579b900e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void call_module_init_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424b">Modules_t</a>&#160;</td>
          <td class="paramname"><em>module_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API for calling the callback handler functions for particular regulation state and control combo. The intention is for expanding the regulation state machine without modifying it or reducing the number of patches required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>regulation state that callback is desired for. </td></tr>
    <tr><td class="paramname">control</td><td>regulation control that callback is desired for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d883c73c8d0c29676612881b777fa96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void call_system_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dc">System_t</a>&#160;</td>
          <td class="paramname"><em>system_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API for calling the callback handler functions for particular regulation state and control combo. The intention is for expanding the regulation state machine without modifying it or reducing the number of patches required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>regulation state that callback is desired for. </td></tr>
    <tr><td class="paramname">control</td><td>regulation control that callback is desired for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a95801ca654152ca9b996294c90c4879d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DRIVER_COMMON_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Intialization routine for the scratchpad </p>

</div>
</div>
<a class="anchor" id="a543a19f24af1a0714662082f70cc9af9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osSemaphoreDef </td>
          <td>(</td>
          <td class="paramtype">scratchpad_semaphore&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae47d01a6ceae9c2cc6bb6809397d891c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cmsis__os_8h.html#aa8968896c84094aa973683c84fa06f84">osSemaphoreId</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a8dd3113370e8b0a04ff1f652bab09be4">scratchpad_semaphore_id</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d5ac6f309122ffa48e056c9a58d0e0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t scratchpad_semaphore_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper function for scratchpad semaphore wait to bring error handling into single function </p><dl class="section return"><dt>Returns</dt><dd>Returns 1 if successful, 0 if unsuccessful </dd></dl>

</div>
</div>
<a class="anchor" id="a7387b2ab6f6e709176ba278d2c049b78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scratchpad_semaphore_release </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper function for scratchpad semaphore release to bring error handling into single function </p>

</div>
</div>
<a class="anchor" id="ac66e8067d8aebc17b7982554099f3f4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_module_init_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424b">Modules_t</a>&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a8bd7422bcd24e568cacaffd615613306">module_init_callback</a>&#160;</td>
          <td class="paramname"><em>module_init_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API for setting the call back handler for a state and control combination in regulation state machine </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module_name</td><td>module to set pointer for callback. </td></tr>
    <tr><td class="paramname">module_init_cb</td><td>pointer to function to call at end of module init. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73edac95fb9f8d2c4ee53974edc55a9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_system_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dc">System_t</a>&#160;</td>
          <td class="paramname"><em>system_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver__common_8h.html#ac05c5479e010d1c7158c62bcdcee91df">system_callback</a>&#160;</td>
          <td class="paramname"><em>system_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API for setting the call back handler for a state and control combination in regulation state machine </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module_name</td><td>module to set pointer for callback. </td></tr>
    <tr><td class="paramname">module_init_cb</td><td>pointer to function to call at end of module init. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a3f258308f3439be08405ecf7d88cdc01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="driver__common_8h.html#abde9d6f81662e59b7bdd3cd8ac0381fe">DRIVER_COMMON_STRUCT_t</a> DRIVER_COMMON_STRUCT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49ec19d0fa74e5fa1b746c131b08ea56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="driver__common_8h.html#a1ab36b07db55b2f8d65fce0ad1b5a4b8">fw_patch_ptr</a> fw_patch_p</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afac71e23d32ec98bcd0b942831d5402f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="driver__common_8h.html#a8bd7422bcd24e568cacaffd615613306">module_init_callback</a> ptr_module_init_callback[<a class="el" href="driver__common_8h.html#a61f5f6149839aa0d126e22b843ec424bac93969c0258b9aca1ce0e74a58f343b3">MODULE_INIT_CALLBACK_ARRAY_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e3765c8becafdb995592d91a0d6f45d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="driver__common_8h.html#ac05c5479e010d1c7158c62bcdcee91df">system_callback</a> ptr_system_callback[<a class="el" href="driver__common_8h.html#a767464efbebfc36112939765bbb5d5dcaabb23e723ebff44e32dae251b19c90ac">SYSTEM_CALLBACK_ARRAY_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d52f7f52f412a942de55fb463ecb0248.html">modules</a></li><li class="navelem"><a class="el" href="dir_8e7a7dc8eceb26e15148bf05a79c2b79.html">driver_common</a></li><li class="navelem"><a class="el" href="driver__common_8c.html">driver_common.c</a></li>
    <li class="footer">Generated on Wed Nov 8 2023 10:16:59 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
