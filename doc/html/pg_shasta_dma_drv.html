<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: DMA Driver module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pg_shasta_dma_drv.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DMA Driver module </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sctShasta_DMA_drv_Intro"></a>
DMA Driver</h1>
<p>The DMA driver firmware module provides direct memory access. See</p><ul>
<li><a class="el" href="dma__drv_8h.html" title="DMA driver header file. ">dma_drv.h</a> for details on the API</li>
<li><a class="el" href="hal__dma_8h.html" title="HW abstraction layer for ARM&#39;s PL230 uDMA, private for DMA driver source files. ">hal_dma.h</a> API for the channel descriptor</li>
<li>CPUS ITS for details on the HW Interface e.g the DMA Shell <br />
<a href="https://sec-ishare.infineon.com/sites/shasta/Shared%20Documents/03_System/CPUS.pdf">https://sec-ishare.infineon.com/sites/shasta/Shared%20Documents/03_System/CPUS.pdf</a> Chapter 7 and 8</li>
<li>ARM's original DMA HW manual <br />
<a href="../../../../../doc/arm/DDI0417A_udmac_pl230_r0p0_trm.pdf">PrimeCell uDMA Controller (PL230)</a> <br />
 </li>
</ul>
<h1><a class="anchor" id="sctShasta_dma_drv_example"></a>
Example application</h1>
<p>Below is a code example how to use the driver. <br />
</p><ol type="1">
<li>Channel 0 for an automatic mem2mem copy.</li>
<li>Channel 6 to make a dtimer controlled mem2mem copy.</li>
<li>Channel 10 to perform a I2C slave to master transaction (TX).</li>
<li>Channel 11 to perform a I2C master to slave transaction (RX).</li>
</ol>
<div class="fragment"><div class="line"><span class="comment">//dtimer configuration variables</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="struct_d_t_i_m_e_r___c_o_n_f_i_g__t.html">DTIMER_CONFIG_t</a> dtimer_cfg[4];</div>
<div class="line"><span class="comment">//Interrupt counter for the dtimer</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> uint32_t x[4];</div>
<div class="line"><span class="comment">//dtimer driver handlers</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="struct___d_r_i_v_e_r___d_t_i_m_e_r.html">DRIVER_DTIMER</a> *drv_dtimer;</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DTIMER_ISR1(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    drv_dtimer-&gt;ClearIRQ(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a4719469f34790da9a71cccb8de771c8f">DTIMER1</a>);</div>
<div class="line">    x[1]++;</div>
<div class="line">    <span class="keywordflow">if</span> (x[1] &gt; 20)</div>
<div class="line">    {</div>
<div class="line">        drv_dtimer-&gt;Uninitialize(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a4719469f34790da9a71cccb8de771c8f">DTIMER1</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="struct___d_r_i_v_e_r___d_m_a.html">DRIVER_DMA</a> *dma_cpy;</div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html">DMA_CONFIGURATION</a> dma_cfg[16];</div>
<div class="line"><span class="preprocessor">#define DMA_SIZE (10)</span></div>
<div class="line"><span class="preprocessor">#define N_ROWS (2)</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> uint32_t src_buf[<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>][DMA_SIZE];</div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> uint32_t dest_buf[<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>][DMA_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="comment">//Parameter for PMBUS Interface Transaction tests</span></div>
<div class="line"><span class="preprocessor">#define RX_SIZE (32)</span></div>
<div class="line"><span class="preprocessor">#define TX_SIZE (4)</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> uint32_t rx_buf[32];</div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keyword">const</span> uint32_t rx_result[] =</div>
<div class="line">               { 0x2c, 0x00, 0x09, 0x70, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line">                 0x30, 0x00, 0x09, 0x70, 0xFF, 0xFF, 0xFF, 0xFF,</div>
<div class="line">                 0x2c, 0x00, 0x09, 0x70, 0x2c, 0x00, 0x09, 0x70,</div>
<div class="line">                 0x30, 0x00, 0x09, 0x70, 0x30, 0x00, 0x09, 0x70</div>
<div class="line">               };</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DTIMER_ISR0(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    drv_dtimer-&gt;ClearIRQ(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a61de8dfc06d90e56c2070a367f059490">DTIMER0</a>);</div>
<div class="line">    x[0]++;</div>
<div class="line">    <span class="keywordflow">if</span> (x[0] &gt; 20)</div>
<div class="line">    {</div>
<div class="line">        drv_dtimer-&gt;Uninitialize(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a61de8dfc06d90e56c2070a367f059490">DTIMER0</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//PMBUS RX Transactions</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR11(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(11);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line"></div>
<div class="line">    uint32_t dma_err = 0;</div>
<div class="line">    <span class="comment">// Check if the data were transfered correctly</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; RX_SIZE; i++) {</div>
<div class="line">        dma_err += (rx_buf[i] - rx_result[i]);</div>
<div class="line">        <a class="code" href="group__rgu.html#ga72e9e50f4db29d251712bb52d420a1e5">RGU_SPARE_FF__SET</a>((uint32_t)i) ;</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)rx_buf[i]) ;</div>
<div class="line">        <a class="code" href="group__cgu.html#gaf08a9fd5fa30ef6bf310f0e4cdbbeb78">CGU_SPARE_FF__SET</a>((uint32_t)dma_err) ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__rgu.html#ga72e9e50f4db29d251712bb52d420a1e5">RGU_SPARE_FF__SET</a>((uint32_t)(RX_SIZE+1)) ;</div>
<div class="line">    <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)dma_err) ;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"><span class="comment">//PMBUS TX Transactions</span></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR10(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(10);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; TX_SIZE; i++) {</div>
<div class="line">        <a class="code" href="group__rgu.html#ga72e9e50f4db29d251712bb52d420a1e5">RGU_SPARE_FF__SET</a>((uint32_t)i) ;</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)src_buf[0][i]) ;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR7(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dtimer__drv_8c.html#ab61e28297f7d32e5cd8529965a52566d">DTIMER_Uninitialize</a>(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a4719469f34790da9a71cccb8de771c8f">DTIMER1</a>);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(7);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR6(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dtimer__drv_8c.html#ab61e28297f7d32e5cd8529965a52566d">DTIMER_Uninitialize</a>(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a61de8dfc06d90e56c2070a367f059490">DTIMER0</a>);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(6);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR0(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(0);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> DMA_ISR1(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#a22106d44e4521fed60710bf6fada4de8">DMA_teardown</a>(1);</div>
<div class="line">    <a class="code" href="dma__drv_8c.html#ad459b451f2a538808057f530115c1c31">DMA_disable_hw</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> test_execute(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Initialize pmbus to perform DMA tests with PMBUS module</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Since the operation and maintenance is the underlying &quot;rescue module&quot; this one comes first</span></div>
<div class="line">    <span class="comment">// in a logical order.</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// get a handler for dtimer driver</span></div>
<div class="line">    drv_dtimer = &amp;<a class="code" href="dtimer__drv_8c.html#aeb2f6879ecde8e11ebe8811c84ad8622">Driver_DTIMER</a>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// get a handler for DMA driver</span></div>
<div class="line">    dma_cpy = &amp;<a class="code" href="dma__drv_8c.html#a2d8aecd9ded4ad4619ef7ea78590f7d1">Driver_DMA</a>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// power up the DMA.</span></div>
<div class="line">    <span class="comment">//This must be done before configuring the DMA</span></div>
<div class="line">    dma_cpy-&gt;<a class="code" href="struct___d_r_i_v_e_r___d_m_a.html#afe97bcd68f06e4edce27777a5aae3fe4">enable_hw</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the source buffer with test data</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; (DMA_SIZE); i++) {</div>
<div class="line">        src_buf[0][i] = 1 * (i + 1);</div>
<div class="line">        src_buf[1][i] = 16 * (i + 1);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    memset(dest_buf, 0, <span class="keyword">sizeof</span>(dest_buf));</div>
<div class="line"></div>
<div class="line">    uint32_t ch = 0;</div>
<div class="line">    <a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html">DMA_CONFIGURATION</a> * dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Setup DMA channel 0 for a simple mem2mem transfer</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1dac71406b58bef07a030a39b2d0b2c46d9">AUTO_REQUEST</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = &amp;dest_buf[0][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = &amp;src_buf[0][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> = (<span class="keyword">sizeof</span>(<a class="code" href="add__on__features_8h.html#a447a69f02d633adabd8ef2413d2aeb0e">dest_buf</a>)/<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>) - 1;</div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);  <span class="comment">//starts the DMA cycle for channel 0</span></div>
<div class="line"></div>
<div class="line">    ch = 1;</div>
<div class="line">    dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Setup DMA channel 1 for a simple mem2mem transfer</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1dac71406b58bef07a030a39b2d0b2c46d9">AUTO_REQUEST</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = &amp;dest_buf[1][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = &amp;src_buf[1][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> = (<span class="keyword">sizeof</span>(<a class="code" href="add__on__features_8h.html#a447a69f02d633adabd8ef2413d2aeb0e">dest_buf</a>)/<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>) - 1;</div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);  <span class="comment">//starts the DMA cycle for channel 0</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Requests must come after start</span></div>
<div class="line">    <span class="comment">// After starting DMA configuration cannot be changed until the DMA is done</span></div>
<div class="line">    dma_cpy-&gt;req_sw(0); <span class="comment">// creates a sw request to initiate the transfer</span></div>
<div class="line">    dma_cpy-&gt;req_sw(1); <span class="comment">// creates a sw request to initiate the transfer</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Wait until dma transfer is finished</span></div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="dma__drv_8c.html#a91f366337e020780d3be3d6c4ea312e4">DMA_is_active</a>()){}</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check if transfer was correct</span></div>
<div class="line">    uint32_t dma_err = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check if the data were transfered correctly</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; (DMA_SIZE); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> ((src_buf[0][i] != dest_buf[0][i]) ||</div>
<div class="line">                (src_buf[1][i] != dest_buf[1][i])   )</div>
<div class="line">        {</div>
<div class="line">            dma_err = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Test 1 with error</span></div>
<div class="line">    <span class="keywordflow">if</span> (dma_err == 1)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)0x11UL) ;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)0x01UL) ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//*************************** Checking DMA channel 6 and 7 DTIMER0 and DTIMER1 **************</span></div>
<div class="line">    <span class="comment">// power up</span></div>
<div class="line">    dma_cpy-&gt;enable_hw();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; (DMA_SIZE); i++) {</div>
<div class="line">        src_buf[0][i] = 4 * (i + 1);</div>
<div class="line">        src_buf[1][i] = 64 * (i + 1);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    memset(dest_buf, 0, <span class="keyword">sizeof</span>(dest_buf));</div>
<div class="line"></div>
<div class="line">    ch = 6;</div>
<div class="line">    dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Setup DMA channel 6 which is connected to DTIMER0</span></div>
<div class="line">    <span class="comment">// use simple mem2mem transfer</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1da13c45196813cb44e6e81e9c48a5ec1b4">BASIC</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = &amp;dest_buf[0][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = &amp;src_buf[0][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR6;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> = (<span class="keyword">sizeof</span>(<a class="code" href="add__on__features_8h.html#a447a69f02d633adabd8ef2413d2aeb0e">dest_buf</a>)/<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>) - 1;</div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    ch = 7;</div>
<div class="line">    dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Setup DMA channel 7 which is connected to DTIMER1</span></div>
<div class="line">    <span class="comment">// use simple mem2mem transfer</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1da13c45196813cb44e6e81e9c48a5ec1b4">BASIC</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = &amp;dest_buf[1][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = &amp;src_buf[1][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR7;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> = (<span class="keyword">sizeof</span>(<a class="code" href="add__on__features_8h.html#a447a69f02d633adabd8ef2413d2aeb0e">dest_buf</a>)/<a class="code" href="add__on__features_8h.html#a9c44d59e4de2821c0a19bf0277beb208">N_ROWS</a>) - 1;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Configure DTIMER 0 to create a request every 200 clock cycles</span></div>
<div class="line">    memset(&amp;dtimer_cfg[0], 0, <span class="keyword">sizeof</span>(dtimer_cfg[0]));</div>
<div class="line">    dtimer_cfg[0].mode   = <a class="code" href="dtimer__drv_8h.html#a673a086bab4294be17f1b5aaa3047163a3e8e40372d837f7a57e9e4bbd6b55f07">PERIODIC_INT</a>;</div>
<div class="line">    dtimer_cfg[0].load   = 200;</div>
<div class="line">    dtimer_cfg[0].bgload = 200;</div>
<div class="line">    dtimer_cfg[0].dtimer_ISR = DTIMER_ISR0;</div>
<div class="line">    x[0] = 0;</div>
<div class="line">    drv_dtimer-&gt;Initialize(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a61de8dfc06d90e56c2070a367f059490">DTIMER0</a>, dtimer_cfg[0]);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Configure DTIMER 1 to create a request every 400 clock cycles</span></div>
<div class="line">    memset(&amp;dtimer_cfg[1], 0, <span class="keyword">sizeof</span>(dtimer_cfg[1]));</div>
<div class="line">    dtimer_cfg[1].mode   = <a class="code" href="dtimer__drv_8h.html#a673a086bab4294be17f1b5aaa3047163a3e8e40372d837f7a57e9e4bbd6b55f07">PERIODIC_INT</a>;</div>
<div class="line">    dtimer_cfg[1].load   = 400;</div>
<div class="line">    dtimer_cfg[1].bgload = 400;</div>
<div class="line">    dtimer_cfg[1].dtimer_ISR = DTIMER_ISR1;</div>
<div class="line">    x[1] = 0;</div>
<div class="line">    drv_dtimer-&gt;Initialize(<a class="code" href="dtimer__drv_8h.html#a99990c828eb3bc73c3148227604abb15a4719469f34790da9a71cccb8de771c8f">DTIMER1</a>, dtimer_cfg[1]);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Wait until dma transfer is finished</span></div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="dma__drv_8c.html#a91f366337e020780d3be3d6c4ea312e4">DMA_is_active</a>()){}</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check if transfer was correct</span></div>
<div class="line">    dma_err = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check if the data were transfered correctly</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; (DMA_SIZE); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> ((src_buf[0][i] != dest_buf[0][i]) ||</div>
<div class="line">                (src_buf[1][i] != dest_buf[1][i])   )</div>
<div class="line">        {</div>
<div class="line">            dma_err = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Test 3 with error</span></div>
<div class="line">    <span class="keywordflow">if</span> (dma_err == 1)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)0x12UL) ;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__scu.html#ga10a6fd20eef0664be611a2ffe90ca73b">SCU_SPARE_FF__SET</a>((uint32_t)0x02UL) ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//*************************** Checking DMA channel 10 and 11 PMBUS TX and RX *************</span></div>
<div class="line">    <span class="comment">// power up</span></div>
<div class="line">    dma_cpy-&gt;enable_hw();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; (DMA_SIZE); i++) {</div>
<div class="line">        src_buf[0][i] = 4 * (i + 1);</div>
<div class="line">        src_buf[1][i] = 64 * (i + 1);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    memset(dest_buf, 0, <span class="keyword">sizeof</span>(dest_buf));</div>
<div class="line"></div>
<div class="line">    ch = 10;</div>
<div class="line">    dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// PMBUS TX: sending 4 byte data to the master</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1da13c45196813cb44e6e81e9c48a5ec1b4">BASIC</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = <a class="code" href="group__pmbus.html#ga51d273954f6dc37fd77eb2ccca3b84e2">__PMBUS_DATA_LUT__ADDRESS</a>(<a class="code" href="group__pmbus.html#gga03e4c2838206cf4b5ee2b7e11dcf97a8ac901a995d53556eca1f022a3c8747cb3">pmbus_data_lut_0</a>);</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = &amp;src_buf[0][0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR10;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> = (TX_SIZE*4) - 1; <span class="comment">// only 4 transactions are performed</span></div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    ch = 11;</div>
<div class="line">    dma_ch_config = &amp;dma_cfg[ch];</div>
<div class="line"></div>
<div class="line">    <span class="comment">//  PMBUS RX: receiving 32 byte data from the master</span></div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a839b81053504b831748c4c914bab775c">cycle_control</a> = <a class="code" href="hal__dma_8h.html#a591417e3ec79e09f0bc159079d561c1da13c45196813cb44e6e81e9c48a5ec1b4">BASIC</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a452a67d97e255591983629b73091f76a">data_width</a> = <a class="code" href="hal__dma_8h.html#a151a1743ee8274c5ddbabe6577cd3fcda606c7f23069a8e79f80bfb3cfb9fa7f0">DATA_WIDTH_WORD</a>;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ae02afdcdf97fc0985d40f2c9f7c68b7e">dest</a> = &amp;rx_buf[0];</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#ada8a26a47f6ea51f0b7f7ab620e20e2f">src</a> = <a class="code" href="group__pmbus.html#ga4861c4d036c0a84448328e62da15f11e">__PMBUS_RXDATA__ADDRESS</a>();</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#aa2f758dbf7655459f2d6273ca09a8725">dma_ChIRQ</a> = DMA_ISR11;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a959954fa31865a045f92eacaa59b4ff7">is_dest_port_inc</a> = 1;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#a6a1d7c169d0ad278bad3e1c9bd47628f">is_src_port_inc</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af28d256b0d19c713edba22f8e8247206">r_pow</a> = 0;</div>
<div class="line">    dma_ch_config-&gt;<a class="code" href="struct___d_m_a___c_o_n_f_i_g_u_r_a_t_i_o_n__s.html#af77fc8547ea21703f0cafc6d3a66c396">size_m1</a> =(RX_SIZE*4) - 1; <span class="comment">// only 32 transactions are performed for 4 frames</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    dma_cpy-&gt;setup(ch, dma_cfg[ch]);</div>
<div class="line">    dma_cpy-&gt;start(ch);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// for PMBUS the data must be checked in the DMA Interrupt which is issued</span></div>
<div class="line">    <span class="comment">// when the transfer is complete</span></div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 8 2023 10:17:00 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
