<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: system_shasta.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('system__shasta_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">system_shasta.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CMSIS Cortex-M0 Device Peripheral Access Layer Header File for Device Shasta. This file contains the API functions for the CMSIS system &amp; clock configuration.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="shasta_8h.html">shasta.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta__hal__cgu_8h.html">shasta_hal_cgu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os__exceptions_8h.html">cmsis_os_exceptions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fw__bool_8h.html">fw_bool.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a377bf274ba0846dc04a3d3935de83f31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a377bf274ba0846dc04a3d3935de83f31">SYS_BOOT_STATE_TRACK</a>(state)</td></tr>
<tr class="separator:a377bf274ba0846dc04a3d3935de83f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3a3dc3e760988086c6aa01728d1f5265"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a3a3dc3e760988086c6aa01728d1f5265">Irq_Handler</a>) (void)</td></tr>
<tr class="separator:a3a3dc3e760988086c6aa01728d1f5265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7eb5bd2ba04788466a8f2c3cb10e9d00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00">Osys_Boot_State_t</a> { <br />
&#160;&#160;<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00aae4d5294836bf53874c36920d9487ae8">BOOT_STARTED</a> = 0x0, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00ab4e59f3974a27496c079a3e8f2ca2615">BD_READ</a> = 0x1, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00a214ee7348007ebf0c929475451da2f67">SYSTEM_INIT</a> = 0x2, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00a0c926e132247d55f1388f94efaab1f41">MEM_INIT</a> = 0x3, 
<br />
&#160;&#160;<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00ada07d05ae511de3433bc339d3baaaab1">RTOS_INIT</a> = 0x4, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00a94cdcef770f7f6b3448045445a4b8b0e">MODULES_INIT</a> = 0x5, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00a3426b3a72b3a7fba67f6009452a0b01e">RTOS_STARTED</a> = 0x8, 
<a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00a4ece5d29b9a8760cbb8645b49e3112a6">BOOT_FAILED</a> = 0xF
<br />
 }</td></tr>
<tr class="separator:a7eb5bd2ba04788466a8f2c3cb10e9d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93f514700ccf00d08dbdcff7f1224eb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a93f514700ccf00d08dbdcff7f1224eb2">SystemInit</a> (void)</td></tr>
<tr class="separator:a93f514700ccf00d08dbdcff7f1224eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9981227135a8b52d82a2fe404d16c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a4d9981227135a8b52d82a2fe404d16c4">sys_delay_by_us</a> (uint32_t delay_us)</td></tr>
<tr class="separator:a4d9981227135a8b52d82a2fe404d16c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1ed233a180d3991b4832e9de38e176"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a2b1ed233a180d3991b4832e9de38e176">sys_reset</a> (void)</td></tr>
<tr class="separator:a2b1ed233a180d3991b4832e9de38e176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b4d4ed70528d28ab8c7ba938f064a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a15b4d4ed70528d28ab8c7ba938f064a9">sys_power_down</a> (void)</td></tr>
<tr class="separator:a15b4d4ed70528d28ab8c7ba938f064a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c36a9591fe6e9c45ecb21a794f0f0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#ae0c36a9591fe6e9c45ecb21a794f0f0f">SystemCoreClockUpdate</a> (void)</td></tr>
<tr class="separator:ae0c36a9591fe6e9c45ecb21a794f0f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8126083b81bea2e99090b5c678a58a5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#a8126083b81bea2e99090b5c678a58a5c">sys_irq_is_pending</a> (<a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a> irq_id)</td></tr>
<tr class="separator:a8126083b81bea2e99090b5c678a58a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae845515908acb961071a9ea3b3a4bad0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system__shasta_8h.html#a3a3dc3e760988086c6aa01728d1f5265">Irq_Handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#ae845515908acb961071a9ea3b3a4bad0">sys_irq_handler_get</a> (<a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a> irq_id)</td></tr>
<tr class="separator:ae845515908acb961071a9ea3b3a4bad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc64d0a7c00cceffa82065a0b295328c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__shasta_8h.html#afc64d0a7c00cceffa82065a0b295328c">sys_irq_handler_set</a> (<a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a> irq_id, <a class="el" href="system__shasta_8h.html#a3a3dc3e760988086c6aa01728d1f5265">Irq_Handler</a> handler)</td></tr>
<tr class="separator:afc64d0a7c00cceffa82065a0b295328c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaaacb790c3717e3204627a11dfa45dbf8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp_shasta___system___globals.html#gaaacb790c3717e3204627a11dfa45dbf8">sys_boot_descriptor</a></td></tr>
<tr class="separator:gaaacb790c3717e3204627a11dfa45dbf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87ee3b1b47d8ac25ea3260d7c623160e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00">Osys_Boot_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp_shasta___system___globals.html#ga87ee3b1b47d8ac25ea3260d7c623160e">sys_boot_state</a></td></tr>
<tr class="separator:ga87ee3b1b47d8ac25ea3260d7c623160e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2727867907f0797f481d1e4e9bd3b20"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp_shasta___system___globals.html#gad2727867907f0797f481d1e4e9bd3b20">sys_num_critical_reboots</a></td></tr>
<tr class="separator:gad2727867907f0797f481d1e4e9bd3b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3cd3e43291e81e795d642b79b6088e6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__grp_shasta___system___globals.html#gaa3cd3e43291e81e795d642b79b6088e6">SystemCoreClock</a></td></tr>
<tr class="separator:gaa3cd3e43291e81e795d642b79b6088e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CMSIS Cortex-M0 Device Peripheral Access Layer Header File for Device Shasta. This file contains the API functions for the CMSIS system &amp; clock configuration. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a377bf274ba0846dc04a3d3935de83f31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYS_BOOT_STATE_TRACK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__grp_shasta___system___globals.html#ga87ee3b1b47d8ac25ea3260d7c623160e">sys_boot_state</a> = (<a class="code" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00">Osys_Boot_State_t</a>)state; <a class="code" href="group__cgu.html#gaf08a9fd5fa30ef6bf310f0e4cdbbeb78">\</a></div>
<div class="line"><a class="code" href="group__cgu.html#gaf08a9fd5fa30ef6bf310f0e4cdbbeb78">    CGU_SPARE_FF__SET</a>( (<a class="code" href="group__cgu.html#ga99eefccb770f67f57b01f6589f5d8351">CGU_SPARE_FF__GET</a>() &amp; (uint32_t)0xFFFFFFF0) \</div>
<div class="line">                       | ((uint32_t)0xF &amp; (uint32_t)state) )</div>
<div class="ttc" id="group__cgu_html_gaf08a9fd5fa30ef6bf310f0e4cdbbeb78"><div class="ttname"><a href="group__cgu.html#gaf08a9fd5fa30ef6bf310f0e4cdbbeb78">CGU_SPARE_FF__SET</a></div><div class="ttdeci">__CGU_INLINE void CGU_SPARE_FF__SET(uint32_t value)</div><div class="ttdef"><b>Definition:</b> shasta_hal_cgu.h:6788</div></div>
<div class="ttc" id="system__shasta_8h_html_a7eb5bd2ba04788466a8f2c3cb10e9d00"><div class="ttname"><a href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00">Osys_Boot_State_t</a></div><div class="ttdeci">Osys_Boot_State_t</div><div class="ttdef"><b>Definition:</b> system_shasta.h:33</div></div>
<div class="ttc" id="group__grp_shasta___system___globals_html_ga87ee3b1b47d8ac25ea3260d7c623160e"><div class="ttname"><a href="group__grp_shasta___system___globals.html#ga87ee3b1b47d8ac25ea3260d7c623160e">sys_boot_state</a></div><div class="ttdeci">Osys_Boot_State_t sys_boot_state</div></div>
<div class="ttc" id="group__cgu_html_ga99eefccb770f67f57b01f6589f5d8351"><div class="ttname"><a href="group__cgu.html#ga99eefccb770f67f57b01f6589f5d8351">CGU_SPARE_FF__GET</a></div><div class="ttdeci">__CGU_INLINE uint32_t CGU_SPARE_FF__GET(void)</div><div class="ttdef"><b>Definition:</b> shasta_hal_cgu.h:6799</div></div>
</div><!-- fragment --><p>Macro to keep track of the boot sequence's progress. Note: Only the lower 4 bits of the CGU_SPARE_FF are allowed to be used. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a3a3dc3e760988086c6aa01728d1f5265"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Irq_Handler) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback type for the IRQ handlers from the vector table. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="system__shasta_8h.html#a7eb5bd2ba04788466a8f2c3cb10e9d00">Osys_Boot_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These states are used as a special logging mechanism of the boot sequence in addition to the general log buffer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00aae4d5294836bf53874c36920d9487ae8"></a>BOOT_STARTED&#160;</td><td class="fielddoc">
<p>The boot sequence was just started. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00ab4e59f3974a27496c079a3e8f2ca2615"></a>BD_READ&#160;</td><td class="fielddoc">
<p>The boot descriptor was read. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00a214ee7348007ebf0c929475451da2f67"></a>SYSTEM_INIT&#160;</td><td class="fielddoc">
<p>The end of SystemInit was reached. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00a0c926e132247d55f1388f94efaab1f41"></a>MEM_INIT&#160;</td><td class="fielddoc">
<p>The memory was initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00ada07d05ae511de3433bc339d3baaaab1"></a>RTOS_INIT&#160;</td><td class="fielddoc">
<p>RTOS is initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00a94cdcef770f7f6b3448045445a4b8b0e"></a>MODULES_INIT&#160;</td><td class="fielddoc">
<p>All modules are initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00a3426b3a72b3a7fba67f6009452a0b01e"></a>RTOS_STARTED&#160;</td><td class="fielddoc">
<p>RTOS was successfully started. Scheduling is running. Last state which has a fixed 4-bit value for RTL-simulation checks. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7eb5bd2ba04788466a8f2c3cb10e9d00a4ece5d29b9a8760cbb8645b49e3112a6"></a>BOOT_FAILED&#160;</td><td class="fielddoc">
<p>The boot sequence was unsuccessful (e.g. due to a missing boot descriptor). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4d9981227135a8b52d82a2fe404d16c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_delay_by_us </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>delay_us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns after a minimum of <code>delay_us</code> microseconds.</p>
<p>The accuracy is better for higher delays:</p><ul>
<li>1 us delay actually yields 158 cycles @100MHz ==&gt; 1.58 us</li>
<li>10us delay actually yields 1058 cycles @100MHZ ==&gt; 10.58 us</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This function is delaying to a lower limit, it cannot guarantee to exactly return after a given delay. In an RTOS environment, an accurate delay below the actual scheduling period of the RTOS is not possible. Context switching of RTOS-controlled threads prevents any accuracy below the scheduling period.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_us</td><td>delay in aggregates of (integer) microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae845515908acb961071a9ea3b3a4bad0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="system__shasta_8h.html#a3a3dc3e760988086c6aa01728d1f5265">Irq_Handler</a> sys_irq_handler_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a>&#160;</td>
          <td class="paramname"><em>irq_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the IRQ handler from the vector table that corresponds to the indicated IRQ. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq_id</td><td>IRQ for which the handler shall be retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the IRQ handler from the vector table for <code>irq_id</code> </dd></dl>

</div>
</div>
<a class="anchor" id="afc64d0a7c00cceffa82065a0b295328c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_irq_handler_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a>&#160;</td>
          <td class="paramname"><em>irq_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="system__shasta_8h.html#a3a3dc3e760988086c6aa01728d1f5265">Irq_Handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the IRQ handler inside the vector table that corresponds to the indicated IRQ. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq_id</td><td>IRQ of the handler that shall be installed </td></tr>
    <tr><td class="paramname">handler</td><td>IRQ handler to install in the vector table for <code>irq_id</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a8126083b81bea2e99090b5c678a58a5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> sys_irq_is_pending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___shasta___c_m_s_i_s.html#gac3af4a32370fb28c4ade8bf2add80251">IRQn_Type</a>&#160;</td>
          <td class="paramname"><em>irq_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if an IRQ is pending and enabled. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq_id</td><td>Indicator of the IRQ </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the IRQ is pending and enabled, otherwise <code>false</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a15b4d4ed70528d28ab8c7ba938f064a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_power_down </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Powers the CPU Subsystem down. Also the wakeup sources will be disabled to prevent any peripheral to power the CPUS up again. </p>

</div>
</div>
<a class="anchor" id="a2b1ed233a180d3991b4832e9de38e176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the CPU Subsystem. Program execution will start from the vector table again. </p>

</div>
</div>
<a class="anchor" id="ae0c36a9591fe6e9c45ecb21a794f0f0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemCoreClockUpdate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the variable SystemCoreClock and must be called whenever the core clock is changed during program execution. The function evaluates the clock register settings and calculates the current core clock.</p>
<dl class="section note"><dt>Note</dt><dd>CamelCase due to CMSIS naming convention. </dd></dl>

</div>
</div>
<a class="anchor" id="a93f514700ccf00d08dbdcff7f1224eb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="system__shasta_8h.html#a93f514700ccf00d08dbdcff7f1224eb2">SystemInit()</a> initializes the CPU subsystem (CPUS) upon reset. It is called as part of Reset_Handler(), the assembler routine executed on startup.</p>
<p>The initialization of the CPU subsystem (CPUS) broadly comprises the following steps:</p>
<ul>
<li>Initialize the reset-resistant log buffer if booting from power on. See <a class="el" href="log__app_8c.html#a88043bb1dc401a42c36b10f497a76675">log_buffer_reset()</a>.</li>
<li>Enable dynamic clock gating for some internal modules (but not PMBus, SVID or OTP) of the CPU subsystem. This allows the relevant clocks to be gated when the processor executes a 'WFI' (Wait For Interrupt) or 'WFE' (Wait For Event) instruction. The hardware requires some time before becoming active. The WFI or WFE instruction notifies the Shasta FW of the readiness of the hardware. See <a class="el" href="group__cgu.html#ga285a56ab500dabfccbfe63b2b825c2e0">CGU_CLK_SLEEP_MSK_CNFG__SET()</a>.</li>
<li>Enable all wakeup sources for the CPU. See <a class="el" href="group__scu.html#ga74590d5fc499caa5ab7a392efd46ded1">SCU_CPUS_CFG__GET()</a>.</li>
<li>Disable PMBus interrupts by masking. See sys_restore_pmbus_interrupt_mask().</li>
<li>Read the boot descriptor from SCU_SPARE_FF[29:16] into sys_boot_descriptor and wait endlessly (through 'wfi') until the boot descriptor becomes non-zero (see also <a class="el" href="sys__boot__descr__format_8h.html" title="Boot descriptor format description. ">sys_boot_descr_format.h</a>).</li>
<li>Check sys_boot_descriptor whether the CPUS is supposed to be disabled. If this is the case, the CPUS is disabled (<a class="el" href="system__shasta_8h.html#a15b4d4ed70528d28ab8c7ba938f064a9">sys_power_down()</a>).</li>
<li>Assign interrupt priorities. See <a class="el" href="system__shasta_8c.html#aed234801b00a429b610e69b58ace3462">sys_interrupt_priorities_configure()</a>.</li>
<li>Configure the system clock according to the boot descriptor setting. See <a class="el" href="system__shasta_8h.html#ae0c36a9591fe6e9c45ecb21a794f0f0f">SystemCoreClockUpdate()</a>.</li>
<li>Activate the block interface (BIF) peripheral clocks to allow FW drivers access to the BIF registers.</li>
<li>Activate the watchdog timer (WDT) unless otherwise specified.</li>
<li>Put the master state machine (MSM) on hold before the DC/DC module is started to implement the DC/DC configuration.</li>
</ul>
<p>In addition to the above sequence, <a class="el" href="system__shasta_8h.html#a93f514700ccf00d08dbdcff7f1224eb2">SystemInit()</a> keeps track of the boot sequence by logging the boot progress through SYS_BOOT_STATE_TRACK.</p>
<dl class="section note"><dt>Note</dt><dd>Nothing other than the initialization of hardware is done here. All software initialization follows in a different function of a different file (<a class="el" href="____main_8c.html#a0960c8571aac1536f7e7e5f2590d1ff9">__main()</a> in <a class="el" href="____main_8c.html" title="Contains the initialisation of all software parts. It is assumed that the hardware part is already in...">__main.c</a>).</dd>
<dd>
CamelCase due to CMSIS naming convention. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d52f7f52f412a942de55fb463ecb0248.html">modules</a></li><li class="navelem"><a class="el" href="dir_ea40cf38b2ef84e391e8ff24bd2ce91d.html">startup</a></li><li class="navelem"><a class="el" href="system__shasta_8h.html">system_shasta.h</a></li>
    <li class="footer">Generated on Wed Nov 8 2023 10:17:00 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
