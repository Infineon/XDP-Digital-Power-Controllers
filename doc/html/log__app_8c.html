<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: log_app.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log__app_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log_app.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the Logging FW Module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fw__config_8h.html">fw_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="environment_8h.html">environment.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="linker__sections_8h.html">linker_sections.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__app_8h.html">log_app.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="fw__bool_8h.html">fw_bool.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os__ext_8h.html">cmsis_os_ext.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="circular__buffer_8h.html">circular_buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bits_8h.html">bits.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_log___buffer__t.html">Log_Buffer_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5b89fd494a1bf8d78014b93de1e7c3cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#a5b89fd494a1bf8d78014b93de1e7c3cc">RESET_RESISTANT_DECLARE</a> (struct{<a class="el" href="struct_log___buffer__t.html">Log_Buffer_t</a> *log_buffer;}, Log_App)</td></tr>
<tr class="separator:a5b89fd494a1bf8d78014b93de1e7c3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88043bb1dc401a42c36b10f497a76675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#a88043bb1dc401a42c36b10f497a76675">log_buffer_reset</a> (void)</td></tr>
<tr class="separator:a88043bb1dc401a42c36b10f497a76675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9488c5a334ff1cbaed1f6b9df25d797b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#a9488c5a334ff1cbaed1f6b9df25d797b">log_write</a> (<a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a> source, <a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a> severity, uint8_t length, const uint32_t *payload)</td></tr>
<tr class="separator:a9488c5a334ff1cbaed1f6b9df25d797b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb235330627e6e5d9d9801c230c24de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#a2bb235330627e6e5d9d9801c230c24de">log_error</a> (<a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a> source, <a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a> severity, const <a class="el" href="structos_exception__t.html">osException_t</a> *exception)</td></tr>
<tr class="separator:a2bb235330627e6e5d9d9801c230c24de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0431715b2c42bdc446390e73ee69fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#a5a0431715b2c42bdc446390e73ee69fe">log_read</a> (<a class="el" href="struct_log__t.html">Log_t</a> *log)</td></tr>
<tr class="separator:a5a0431715b2c42bdc446390e73ee69fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa272a24d66020a94b738bc2a6c140021"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#aa272a24d66020a94b738bc2a6c140021">log_overwrite_config</a> (<a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> is_enabled)</td></tr>
<tr class="separator:aa272a24d66020a94b738bc2a6c140021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac10fba125a27b914cf38488a9b02ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#afac10fba125a27b914cf38488a9b02ea">log_filter_source_config</a> (<a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a> filter, <a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> is_enabled)</td></tr>
<tr class="separator:afac10fba125a27b914cf38488a9b02ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef78a95cf95fcdc635e096824dbb39b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log__app_8c.html#aef78a95cf95fcdc635e096824dbb39b7">log_filter_severity_config</a> (<a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a> filter, <a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> is_enabled)</td></tr>
<tr class="separator:aef78a95cf95fcdc635e096824dbb39b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the Logging FW Module. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a88043bb1dc401a42c36b10f497a76675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_buffer_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the log buffer of the logging module. </p>

</div>
</div>
<a class="anchor" id="a2bb235330627e6e5d9d9801c230c24de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a>&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structos_exception__t.html">osException_t</a> *&#160;</td>
          <td class="paramname"><em>exception</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience function for creating an error log from an exception. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source from which the log was created (see Log_Source_t) </td></tr>
    <tr><td class="paramname">severity</td><td>The severity level for the log (see Log_Severity_t) </td></tr>
    <tr><td class="paramname">exception</td><td>The exception to be logged (contains the error/cause) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef78a95cf95fcdc635e096824dbb39b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_filter_severity_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables or re-enables the recording of logs whose severity level matches the parameter (see Log_Severity_t).<br />
 By default the logs for all severity levels are logged.<br />
 Old logs with the indicated severity level will remain within the buffer until they are read out. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>Logs with this severity level will be rejected </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Enables or disables filtering of the indicated <code>filter</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afac10fba125a27b914cf38488a9b02ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_filter_source_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables or re-enables the recording of logs whose source ID matches the parameter (see Log_Source_t).<br />
 By default the logs from all sources are logged.<br />
 Old logs with the indicated source ID will remain within the buffer until they are read out. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>Logs with this source ID will be rejected </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Enables or disables filtering of the indicated <code>filter</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa272a24d66020a94b738bc2a6c140021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_overwrite_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a>&#160;</td>
          <td class="paramname"><em>is_enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures the log buffer to let a new log overwrite older logs in case there is not enough space left.<br />
 If a new log entry exceeds the available memory by default it would be discarded (overwriting is disabled). If overwriting is enabled older logs will be removed until there is enough memory available for the new log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_enabled</td><td>Enables or disables the overwrite mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a0431715b2c42bdc446390e73ee69fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> log_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_log__t.html">Log_t</a> *&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves and removes the oldest log from the buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>Return value: The oldest log or a log with header 0 if the buffer was empty </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> in case a log was read otherwise <code>false</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a9488c5a334ff1cbaed1f6b9df25d797b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fw__bool_8h.html#a9201c1178e191a87a38dd59c7fc36ff6">boolean</a> log_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a>&#160;</td>
          <td class="paramname"><em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a new log at the end of the buffer if enough space is left.<br />
 A timestamp will be added internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source from which the log was created (see Log_Source_t) </td></tr>
    <tr><td class="paramname">severity</td><td>The severity level for the log (see Log_Severity_t) </td></tr>
    <tr><td class="paramname">length</td><td>The number of 4-byte words of the log's <code>content</code> </td></tr>
    <tr><td class="paramname">payload</td><td>The payload for the log made of 32-bit chunks (will be copied) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> in case the log was written or otherwise <code>false</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a5b89fd494a1bf8d78014b93de1e7c3cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environment_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> RESET_RESISTANT_DECLARE </td>
          <td>(</td>
          <td class="paramtype">struct{<a class="el" href="struct_log___buffer__t.html">Log_Buffer_t</a> *log_buffer;}&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Log_App&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The data container for <b>all</b> data that the unique instance of the application needs for operating and managing itself. If you will, this is the data-part of an application object. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d52f7f52f412a942de55fb463ecb0248.html">modules</a></li><li class="navelem"><a class="el" href="dir_194af20c0153861077c483525e7fbdae.html">logger</a></li><li class="navelem"><a class="el" href="log__app_8c.html">log_app.c</a></li>
    <li class="footer">Generated on Wed Nov 8 2023 10:16:59 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
