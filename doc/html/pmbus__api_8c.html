<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: pmbus_api.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pmbus__api_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pmbus_api.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="fw__config_8h.html">fw_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="patch__run_8h.html">patch_run.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="environment_8h.html">environment.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta_8h.html">shasta.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__shasta_8h.html">system_shasta.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="fw__bool_8h.html">fw_bool.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmbus__autogen_8h.html">pmbus_autogen.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmbus__api_8h.html">pmbus_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmbus__drv_8h.html">pmbus_drv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pmbus__gpio__control_8h.html">pmbus_gpio_control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta__hal__pmbus_8h.html">shasta_hal_pmbus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta__hal__scu_8h.html">shasta_hal_scu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta__hal__cgu_8h.html">shasta_hal_cgu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shasta__hal__rgu_8h.html">shasta_hal_rgu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os__ext_8h.html">cmsis_os_ext.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__app_8h.html">log_app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmsis__os__exceptions_8h.html">cmsis_os_exceptions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="configurator_8h.html">configurator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="driver__common_8h.html">driver_common.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a235bd5b1f80f10f29491add6dc673342"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a235bd5b1f80f10f29491add6dc673342">PMBUS_Log_Error</a> (<a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a> source, uint32_t program_counter, <a class="el" href="pmbus__api_8h.html#a592fa8b0b3f26e5d533b180a915e0b9a">PMBUS_CML_STATUS_e</a> cml_status)</td></tr>
<tr class="separator:a235bd5b1f80f10f29491add6dc673342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30bd3c5dd1be80f829c114aa4d238d19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a30bd3c5dd1be80f829c114aa4d238d19">PMBUS_Inter_Thread_Set_Command</a> (<a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a> loop, uint8_t cmd, <a class="el" href="pmbus__autogen_8h.html#a5b83f682def4f4d00b47d1d93bd28dad">PMBUS_DIRECTION_e</a> direction)</td></tr>
<tr class="separator:a30bd3c5dd1be80f829c114aa4d238d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c9ef92e6f4a5a0a070556c29add105"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#af5c9ef92e6f4a5a0a070556c29add105">PMBUS_Get_On_Off_State</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop)</td></tr>
<tr class="separator:af5c9ef92e6f4a5a0a070556c29add105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0753b95a49555165c8098fa679ccb68"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#af0753b95a49555165c8098fa679ccb68">PMBUS_Copy_Command_To_RAM</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, uint8_t *ram_location, uint8_t command)</td></tr>
<tr class="separator:af0753b95a49555165c8098fa679ccb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bb0d307effed64a0b36ffffe06d69e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a56bb0d307effed64a0b36ffffe06d69e">PMBUS_Calculate_Size_Check</a> (void)</td></tr>
<tr class="separator:a56bb0d307effed64a0b36ffffe06d69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02cdd2e3731e9426dfad2223690db35"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#ac02cdd2e3731e9426dfad2223690db35">PMBUS_Copy_To_RAM</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, uint8_t *ram_location)</td></tr>
<tr class="separator:ac02cdd2e3731e9426dfad2223690db35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0ace81e554d93c3e76a7053bd819cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a3f0ace81e554d93c3e76a7053bd819cc">PMBUS_Copy_From_Memory</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, const uint8_t *ram_location)</td></tr>
<tr class="separator:a3f0ace81e554d93c3e76a7053bd819cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582e825890bc7fa43aee6191b30ed904"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a582e825890bc7fa43aee6191b30ed904">PMBUS_Get_Vout_Mode_Exponent</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop)</td></tr>
<tr class="separator:a582e825890bc7fa43aee6191b30ed904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ebea3f760e15c9eda65e5b866ca46c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a35ebea3f760e15c9eda65e5b866ca46c">PMBUS_Get_Vout_Scale</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, int32_t vout_exp)</td></tr>
<tr class="separator:a35ebea3f760e15c9eda65e5b866ca46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69627b8b1fb5074e15d9ef826e2b9158"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a69627b8b1fb5074e15d9ef826e2b9158">PMBUS_Set_Command_Byte</a> (<a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a> loop, uint8_t cmd, uint8_t data)</td></tr>
<tr class="separator:a69627b8b1fb5074e15d9ef826e2b9158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624b659e120d3f839dea87569721388c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a624b659e120d3f839dea87569721388c">PMBUS_Set_Command_Word</a> (<a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a> loop, uint8_t cmd, uint16_t data)</td></tr>
<tr class="separator:a624b659e120d3f839dea87569721388c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268d15df38330958e62236b24b34ba21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a268d15df38330958e62236b24b34ba21">PMBUS_Set_Command_Dword</a> (<a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a> loop, uint8_t cmd, uint32_t data)</td></tr>
<tr class="separator:a268d15df38330958e62236b24b34ba21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3699a88d3fc9f65db5f30bd3977e059"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#af3699a88d3fc9f65db5f30bd3977e059">PMBUS_Get_Command_Byte</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, uint8_t cmd)</td></tr>
<tr class="separator:af3699a88d3fc9f65db5f30bd3977e059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bbeb76f11438872adc705c4d72310e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a29bbeb76f11438872adc705c4d72310e">PMBUS_Get_Command_Word</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, uint8_t cmd)</td></tr>
<tr class="separator:a29bbeb76f11438872adc705c4d72310e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15faeabc5f8e1b9e340d6ce47e72cc87"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#a15faeabc5f8e1b9e340d6ce47e72cc87">PMBUS_Get_Command_Dword</a> (<a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a> loop, uint8_t cmd)</td></tr>
<tr class="separator:a15faeabc5f8e1b9e340d6ce47e72cc87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af8746af1677fa6d07fde7422ae3ee022"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___o_n___o_f_f___s_t_a_t_e__s.html">_ON_OFF_STATE_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmbus__api_8c.html#af8746af1677fa6d07fde7422ae3ee022">ON_OFF_STATE</a></td></tr>
<tr class="separator:af8746af1677fa6d07fde7422ae3ee022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a56bb0d307effed64a0b36ffffe06d69e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PMBUS_Calculate_Size_Check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the total OTP size of pmbus for given loop plus the number of commands with otp storage Pass a pointer to ram_location </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>to operate on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes for OTP plus number of commands with otp support </dd></dl>

</div>
</div>
<a class="anchor" id="af0753b95a49555165c8098fa679ccb68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PMBUS_Copy_Command_To_RAM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ram_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy from single pmbus command data in RAM to storage buffer for write to NVM image used in partial store operations. We cannot just pass the command data because of the OTP store requirement Pass a pointer to ram_location </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ram_location</td><td>Pointer to buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes of buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f0ace81e554d93c3e76a7053bd819cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Copy_From_Memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ram_location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy from NVM or buffer to pmbus data storage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ram_location</td><td>Pointer to buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ac02cdd2e3731e9426dfad2223690db35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PMBUS_Copy_To_RAM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ram_location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy to buffer for write to NVM image used in store operations. Pass a pointer to ram_location </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ram_location</td><td>Pointer to buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes of buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="af3699a88d3fc9f65db5f30bd3977e059"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PMBUS_Get_Command_Byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the first byte of the current data of a given pmbus command (cmd) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data from command. </dd></dl>

</div>
</div>
<a class="anchor" id="a15faeabc5f8e1b9e340d6ce47e72cc87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PMBUS_Get_Command_Dword </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the first 4 bytes of the current data of a given pmbus command (cmd) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data from command. </dd></dl>

</div>
</div>
<a class="anchor" id="a29bbeb76f11438872adc705c4d72310e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t PMBUS_Get_Command_Word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the first 2 bytes of the current data of a given pmbus command (cmd) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data from command. </dd></dl>

</div>
</div>
<a class="anchor" id="af5c9ef92e6f4a5a0a070556c29add105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PMBUS_Get_On_Off_State </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a non-zero value if the loop is in active regulation Returns zero when shutdown </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>State of regulation. OFF is 0. On is non-zero. </dd></dl>

</div>
</div>
<a class="anchor" id="a582e825890bc7fa43aee6191b30ed904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PMBUS_Get_Vout_Mode_Exponent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the vout mode exponent of a given loop. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer exponent from linear11 format </dd></dl>

</div>
</div>
<a class="anchor" id="a35ebea3f760e15c9eda65e5b866ca46c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PMBUS_Get_Vout_Scale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#abb8022a0ed99d829493946fa02e41d24">PMBUS_PAGE_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>vout_exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the vout_scale in u0.16 Q format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">vout_exp</td><td>Integer vout exponent to translate to, common choices are vout_mode exponent or internal resolution exponent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Q format shifted value of vout_scale </dd></dl>

</div>
</div>
<a class="anchor" id="a30bd3c5dd1be80f829c114aa4d238d19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Inter_Thread_Set_Command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#a5b83f682def4f4d00b47d1d93bd28dad">PMBUS_DIRECTION_e</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Takes a command number for pmbus 0-0xff and pushes a message to the pmbus thread queue. This triggers the handle of this function in <a class="el" href="pmbus__cmd__handlers_8c.html">pmbus_cmd_handlers.c</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
    <tr><td class="paramname">direction</td><td>Selects whether the command is a write or a read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a235bd5b1f80f10f29491add6dc673342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Log_Error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>program_counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pmbus__api_8h.html#a592fa8b0b3f26e5d533b180a915e0b9a">PMBUS_CML_STATUS_e</a>&#160;</td>
          <td class="paramname"><em>cml_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function for reporting both an error to log buffer and pmbus error. This can only be used for non fatal runtime errors that can be recoverable. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Module of type <a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a> that issued the error. </td></tr>
    <tr><td class="paramname">program_counter</td><td>Current program counter logged. </td></tr>
    <tr><td class="paramname">cml_status</td><td><a class="el" href="pmbus__api_8h.html#a592fa8b0b3f26e5d533b180a915e0b9a">PMBUS_CML_STATUS_e</a> cml error type defined by pmbus spec, value provided will be used as the bit to set in STATUS_CML pmbus command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a69627b8b1fb5074e15d9ef826e2b9158"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Set_Command_Byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a byte sized pmbus command with data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
    <tr><td class="paramname">data</td><td>Data to write to command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a268d15df38330958e62236b24b34ba21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Set_Command_Dword </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a word sized pmbus command with data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
    <tr><td class="paramname">data</td><td>Data to write to command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a624b659e120d3f839dea87569721388c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PMBUS_Set_Command_Word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmbus__autogen_8h.html#ae8531e45cee76d2f4595331880a4f2f6">PMBUS_PAGE_W_BROADCAST_t</a>&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a word sized pmbus command with data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>Selects the pmbus page to operate on. </td></tr>
    <tr><td class="paramname">cmd</td><td>Selects the pmbus command to operate on. </td></tr>
    <tr><td class="paramname">data</td><td>Data to write to command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="af8746af1677fa6d07fde7422ae3ee022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___o_n___o_f_f___s_t_a_t_e__s.html">_ON_OFF_STATE_s</a> ON_OFF_STATE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_d52f7f52f412a942de55fb463ecb0248.html">modules</a></li><li class="navelem"><a class="el" href="dir_ecd4fda65c56387a39d5e1ad9e5dc67f.html">pmbus</a></li><li class="navelem"><a class="el" href="pmbus__api_8c.html">pmbus_api.c</a></li>
    <li class="footer">Generated on Wed Nov 8 2023 10:16:59 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
