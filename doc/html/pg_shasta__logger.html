<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>XDPP1100 Firmware: Logger FW Module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_infineon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">XDPP1100 Firmware
   </div>
   <div id="projectbrief">The firmware documentation for the XDPP1100 device family.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pg_shasta__logger.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Logger FW Module </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sctShasta_Logger_Intro"></a>
Introduction</h1>
<p>The Logging FW Module records the activity within the Shasta device for later analysis.<br />
 The produced <b>logfile</b> or rather list of log entries is seen as a diary of the program flow. It is <b>not</b> used to record feature specific values (e.g. SVID profile data) which need to be accessed directly. For that purpose there are dedicated memory areas and dedicated PMBus commands.</p>
<p>A use cases for analyzing the logfile is, for instance, finding errors in the program flow in case the Shasta behaves unexpectedly (e.g. "A PMBus command was not executed."). Another use case could be to search for optimization possibilities by analyzing the sequence of states in the program flow. </p><dl class="section note"><dt>Note</dt><dd>As of April 2015 only errors are logged by the FW. For the use case of optimization additionally the internal states (e.g. Execute SVID use case X, Patch was read, ...) need to be logged.</dd></dl>
<h1><a class="anchor" id="sctShasta_Log_File"></a>
Log file</h1>
<p>The logfile is a list of <b>log entries</b> in a configurable circular buffer referred to as <b>log buffer</b>. The logfile and the buffer are reset resistant, meaning upon a reset (e.g. due to an error or a patch) all of the log entries and control data will remain unchanged.<br />
 The log entries are implemented in a generic way to be prepared for upcoming use cases. This means each log entry consists of a header and an arbitrary length or rather number of 4 byte payload chunks (see <a class="el" href="struct_log__t.html">Log_t</a>). Besides the length information the header contains the information <a class="el" href="log_8h.html#ab59b6f06263786e0075630d69c3b04a4">Log_Source_t</a>, <a class="el" href="log_8h.html#aaeb722138d31144678ec9a1925b83e2d">Log_Severity_t</a> and a timestamp which indicates the system clock. </p><div class="image">
<img src="log_buffer.svg" alt="log_buffer.svg"/>
<div class="caption">
Content of the log buffer</div></div>
<h1><a class="anchor" id="sctShasta_Logger_Interface"></a>
Module Interface</h1>
<ul>
<li>The logfile needs to be read log-wise, meaning each log entry is read by first extracting the length from the header and then reading the payload chunks with <br />
 log_pmbus_cmd_log_read().</li>
<li>The log buffer is configurable. It can be set to<ul>
<li>let new logs <b>overwrite</b> older ones in case the buffer is full with <br />
 log_pmbus_cmd_log_overwrite_config().</li>
<li><b>filter out</b> new log entries by their source and severity with <br />
 log_pmbus_cmd_log_filter_source_config() and log_pmbus_cmd_log_filter_severity_config(). </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 8 2023 10:17:01 for XDPP1100 Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
